<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <title>title</title>
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <link rel="stylesheet" type="text/css" href="../css/aui-iconfont.css" />
    <style>
        body {
            width: 100%;
            height: auto;
        }

        .tran {
            background: transparent;
        }

        .aui-searchbar {
            background: transparent;
        }

        .bg {
            background: rgba(255, 255, 255, 0.9) none repeat scroll 0 0 !important;
            /*实现FF背景透明，文字不透明*/
            filter: Alpha(opacity=90);
            background: #FFF;
            /*实现IE背景透明*/
            width: 100%;
            box-shadow: 0px 1px 1px 1px rgba(0, 0, 0, 0.1);
            /*投影*/
            -webkit-box-shadow: 0px 1px 1px 1px rgba(0, 0, 0, 0.1);
            -moz-box-shadow: 0px 1px 1px 1px 1gba(0, 0, 0, 0.1);
            -o-box-shadow: 0px 1px 1px 1px 1gba(0, 0, 0, 0.1);
        }

        .bg0 {
            position: fixed;
            /* 随着鼠标滚动*/
        }
    </style>
</head>

<body>
    <header class="aui-bar aui-bar-nav bg0 bg" id="aui-header">
        <div class="aui-pull-left aui-btn tran" onclick="fnOpenScanner()">
            <i class="aui-iconfont aui-icon-scan"></i>
        </div>
        <div class="aui-title" style="left:1.5rem; right: 1.5rem;">
            <div class="aui-searchbar" id="search">
                <div class="aui-searchbar-input aui-border-radius">
                    <i class="aui-iconfont aui-icon-search"></i>
                    <input type="search" placeholder="请输入搜索内容" id="search-input">
                    <div class="aui-searchbar-clear-btn">
                        <i class="aui-iconfont aui-icon-close"></i>
                    </div>
                </div>

                <div class="aui-searchbar-btn aui-text-warning" tapmode>取消</div>
            </div>
        </div>
        <div class="aui-btn aui-pull-right tran open-win" tapmode="highlight" win="html/extension">
            <span class="aui-iconfont aui-icon-qrcode"></span>
        </div>
    </header>
    <div class="aui-content-padded" id="cont">
        <ul class="aui-list">
            <li class="aui-list-header">会员信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-header">分红信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-header">会员信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-header">分红信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-header">会员信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-header">分红信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-header">会员信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-header">分红信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
        </ul>

    </div>
    <div id="cont" class="bg">
        <ul>
            <li class="aui-list-header">分红信息</li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
            <li class="aui-list-item aui-arrow-right">
                <div class="aui-list-item-inner">
                    这是一个列表项
                </div>
            </li>
        </ul>
    </div>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">
    apiready = function() {
        header = $api.byId('aui-header');
        cont = $api.byId('cont');
        console.log($api.offset(header).t);

        //$('#aui-header').css({
        //      opacity:(2000-(header.offset().top))/2000
        //    });
        fnInitListener();
    };
    var header, cont;

    function fnInitListener() {
        api.addEventListener({
            name: 'swipedown'
        }, function(ret, err) {
            if (cont.getBoundingClientRect().top > $api.offset(header).t) {

                $api.addCls(header, 'bg');
            }
        });
        api.addEventListener({
            name: 'swipeup'
        }, function(ret, err) {
            console.log(cont.getBoundingClientRect().top);

            if (cont.getBoundingClientRect().top < $api.offset(header).t) {

                $api.removeCls(header, 'bg');

            }
        });
    }
</script>

</html>
